---
kind: Endpoints
apiVersion: v1
metadata:
  name: kubernetes-lb
  namespace: default
subsets:
  - addresses:
      - ip: 10.0.0.10
      - ip: 10.0.0.20
      - ip: 10.0.0.30
    ports:
      - name: https
        port: 6443
---
kind: Service
apiVersion: v1
metadata:
  name: kubernetes-lb
  namespace: default
  annotations:
    external-dns/internal: "true"
spec:
  type: LoadBalancer
  loadBalancerIP: "172.16.38.254"
  sessionAffinity: ClientIP
  ports:
    - name: https
      protocol: TCP
      port: 6443
      targetPort: 6443
